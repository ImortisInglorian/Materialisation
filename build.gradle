plugins {
    id 'fabric-loom' version '0.2.6-SNAPSHOT'
}

archivesBaseName = "Materialisation"
version = "2.4.1"

def minecraftVersion = "1.15.2"
def yarnBuild = "1"
def cr_version = "1.4.1+1.14.4"
def netherthings_version = "1.2.0"

sourceCompatibility = targetCompatibility = JavaVersion.VERSION_1_8

minecraft {
}

processResources {
    filesMatching('fabric.mod.json') {
        expand 'version': project.version
    }
    inputs.property "version", project.version
}

repositories {
    maven {
        name = "Forge"
        url = "https://files.minecraftforge.net/maven/"
    }
    maven {
        name = "Jitpack"
        url = "https://jitpack.io/"
    }
    maven {
        name = 'Cotton'
        url 'http://server.bbkr.space:8081/artifactory/libs-release'
    }
    maven { url "https://tehnut.info/maven/" }
    maven { url "https://minecraft.curseforge.com/api/maven" }
    maven { url = 'http://maven.sargunv.s3-website-us-west-2.amazonaws.com/' }
}

dependencies {
    minecraft "com.mojang:minecraft:${minecraftVersion}"
    mappings "net.fabricmc:yarn:${minecraftVersion}+build.${yarnBuild}"
    implementation "net.fabricmc:yarn:${minecraftVersion}+build.${yarnBuild}"
    modImplementation("net.fabricmc.fabric-api:fabric-api:0.4.29+build.290-1.15") {
        force = true
    }
    modImplementation "net.fabricmc:fabric-loader:0.7.8+build.184"
//    modImplementation("net.fabricmc:fabric-language-kotlin:1.3.50+build.2")

//    include("net.fabricmc:fabric-language-kotlin:1.3.50+build.2")
    include "me.shedaniel.cloth:config-2:2.10"

    compileOnly "com.google.code.findbugs:jsr305:3.0.2" // javax.annotations.*

    // Mod Compat
    modImplementation("me.shedaniel:RoughlyEnoughItems:3.6.1")
//    modRuntime ("io.github.cottonmc:cotton-resources:${cr_version}") {
//        exclude group: "net.fabricmc.fabric-api"
//        exclude module: "modmenu"
//        exclude module: "RoughlyEnoughItems"
//    }
//    modRuntime "nether-things:netherthings:${netherthings_version}"
//    modRuntime "fabric-more-enchantments:MoEnchantments:1.5.9"
//    modRuntime("me.sargunvohra.mcmods:auto-config:1.1.2+mc1.14.1") {
//        transitive = false
//    }

    // OptiFabric
//    modRuntime "optifabric:optifabric:0.4.0"
//    modRuntime 'org.zeroturnaround:zt-zip:1.13'
//    modRuntime('net.fabricmc:stitch:0.2.1.61') {
//        transitive = false
//    }
//    modRuntime 'com.github.Chocohead:Fabric-ASM:c4ad22d'
}
